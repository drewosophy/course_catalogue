{% extends 'base.html' %}
{% block title %}
Edit {{ course.title }}
{% endblock %}

{% block content %}
<div class="jumbotron">
  <h1 class="display-6">
  Edit {{ course.title }} course 
  </h1>
  <p class="lead">
    You can edit the following: title, description, duration, category.
  </p>

  <form action="{{url_for('editCourse', course_category = category.name, course_title = course.title )}}" method="POST">
    <div class="form-group">
      <label for="title">Title</label>
      <input class="form-control {% if errors and errors.title %} is-invalid {% endif %}" id="title" aria-describedby="titleHelp" name="title" value="{{form.title}}">
      {% if errors and errors.title %}
      <div class="invalid-feedback">
          {{ errors.title}}
      </div>
      {% endif %}
      <small id="titleHelp" class="form-text text-muted">Give it a catchy name.</small>
    </div>
    <div class="form-group">
      <label for="description">Course description</label>
      <textarea class="form-control {% if errors and errors.description %} is-invalid {% endif %}" id="description" name="description" rows="3">{{form.description}}</textarea>
      {% if errors and errors.description %}
      <div class="invalid-feedback">
          {{ errors.description}}
      </div>
      {% endif %}
    </div>
    <div class="form-group">
      <label for="duration">Course duration</label>
      <input class="form-control {% if errors and errors.duration %} is-invalid {% endif %}" id="duration" aria-describedby="durationHelp" name="duration" value="{{form.duration}}">
      <small id="durationHelp" class="form-text text-muted">E.g 9 months.</small>
      {% if errors and errors.duration %}
      <div class="invalid-feedback">
          {{ errors.duration}}
      </div>
      {% endif %}
    </div>
    <div class="form-group">
      <label for="category">Category</label>
      <select class="form-control {% if errors and errors.category %}is-invalid{% endif %}" id="category" name="category">
        <option value="">Pick a category</option>
        {% for category in categories %}
          <option value="{{ category.id }}" {% if form.category == category.id %}selected{% endif %}>{{category.name}}</option>
        {% endfor %}
      </select>
      {% if errors and errors.category %}
        <div class="invalid-feedback">
            {{ errors.category }}
        </div>
        {% endif %}
    </div>
    <button type="submit" class="btn btn-primary">Update course</button>
  </form> 
  <hr class="my-4">
</div>
{% endblock %}